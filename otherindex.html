<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.min.css">
  <style>
    body {
      text-align: center;
    }
    input {
      width: 30px;
      height: 30px;
      margin-right: 5px;
    }
    #submit {
      width: auto;
    }
  </style>
</head>
<body>

  <p id="clue"></p>

  <form>
    <!-- <input type="submit" id="submit"> -->
  </form>
  
  <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
  <script type="text/javascript">

  var words = [
    {word: 'oreo'   ,   clue: 'milk\'s favorite cookie'},
    {word: 'hmo'    ,   clue: 'aetna offering'},
    {word: 'utne'   ,   clue: '___ reader'},
    {word: 'egos'   ,   clue: 'they benefit from boosters'},
    {word: 'anti'   ,   clue: 'one in opposition'}
  ];

  var numWords  = words.length;
  var randNum   = Math.floor((Math.random() * numWords) + 1);
  var prime     = 101;
  var gameOver  = false;

//  while (gameOver === false){

    // for (var i = 0; i < numWords;){
      var i = 0;
      var currentWord;
      var currentClue;
      var currentWordLength;
      var inputHTML1        = '<input id="';
      var inputHTML2        = '" type="text" name="letter" pattern="[A-Za-z]{1}" maxlength="1" title="" oninput="myFunction()">';

      function beginGame(i){

        var current       = (randNum + prime * i) % numWords;
        currentClue       = words[current].clue;
        currentWord       = words[current].word;
        currentWordLength = currentWord.length;

        

        $('#clue').html(currentClue);
        console.log('first ' + i);

        for (var j = 0; j < currentWordLength; j++){
          $('form').append(inputHTML1 + j + inputHTML2);
        };
        
      }

      beginGame(i);

      function isWordComplete(){
        var arr = [];
        for (var i = 0; i < currentWordLength; i++){
          if ($('#' + i)[0].value !== ""){
            arr.push('hi');
          } else {
            console.log($('#' + i)[0].value);
            // arr.push('hi');
          }
        }
        if (arr.length == currentWordLength){
          return true;
        } else {
          return false;
        }
      }

      function isWordRight(){
        var incorrectWord = false;
        for (var b = 0; b < currentWordLength; b++){
          if ($('#'+ b).val() != currentWord[b]){
            incorrectWord = true
          }
        }

        if (incorrectWord){
          $('#message').('sorry, something\'s not quite right');
          console.log('sorry, something\'s not quite right');
          return false;
        } else {
          console.log('before ' + i);
          // return true;
          i++;
          $('form').html("");
          beginGame(i);
          console.log('after ' + i);
        }
      }

      function myFunction(){
        if (isWordComplete() == true){
          isWordRight();  
        }
      }
    
      
      console.log('last ' + i);
      // gameOver = true;
      // console.log('game over');

    // }; //end of for loop

  //} // end of gameOver loop 

   // while gameOver is false
     // loop over array of words
       // print out inputs and clue for word
         // while guess is false
           // check if guess is correct on submit
             // if guess is correct, guess = true
             // else guess is false, keep checking
       // if last item in array gameOver = true;
       // else go to next word, i++


      
  </script>
</body>
</html>


